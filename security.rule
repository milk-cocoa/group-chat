topics/* {
permit : push;
rule : true;
}

topics/[userid]/[topicid]/allow {
  permit : all;
  rule : userid == account.id;
}

topics/[userid]/[topicid] {
  permit : all;
  rule : dataStore("topics/" + userid + "/" + topicid + "/allow").exist({email : account.email});
}

user/[userid]/topics {
  permit : set, push;
  rule: true;
}

user/[userid] {
  permit : all;
  rule: userid == account.id;
}

